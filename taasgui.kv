#:kivy 2.0.0
#: set input_widget_size '100dp', '44dp'

MainWidget:

<HorizontalBoxLayout@BoxLayout>:
    orientation: 'horizontal'

<BoxLayout>:
    spacing: dp(16)

<BorderedBox@BoxLayout>:
    border_width: 1
    padding: dp(8), 0
    canvas.before:
        Color:
            rgba: 0, 0, 0, 0.5
        Line:
            width: 1
            rectangle: self.x, self.y + 0.1*self.height, self.width, 0.8*self.height

<CustomText@TextInput>:
    size_hint: None, None
    size: input_widget_size
    pos_hint: {'center_x': 0.5, 'center_y': 0.5}

<Spinner>:
    size_hint: None, None
    size: input_widget_size
    pos_hint: {'center_x': 0.5, 'center_y': 0.5}

<SmallButton@Button>:
    size_hint_y: None
    size: input_widget_size
    pos_hint: {'center_x': 0.5, 'center_y': 0.5}

<BigButton@Button>:
    size_hint: None, None
    size: '240dp', '50dp'
    pos_hint: {'center_x': 0.5, 'center_y': 0.5}

<Separator@Widget>:
    size_hint_x: None
    width: dp(1)
    border_width: 1
    canvas:
        Color:
            rgb: 0, 0, 0
        Rectangle:
            pos: self.x + self.width - self.border_width, self.y
            size: self.border_width, self.height

<MainLabel@Label>:
    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    size_hint_x: None
    width: max(self.texture_size[0], dp(150))
    bold: True
    # Right border
    border_width: 1
    canvas:
        Color:
            rgb: 0, 0, 0
        Rectangle:
            pos: self.x + self.width - self.border_width, self.y
            size: self.border_width, self.height
    # Background color
    # canvas.before:
    #     Color:
    #         rgba: 1, 0, 0, 1
    #     Rectangle:
    #         pos: self.pos
    #         size: self.size

<SubLabel@Label>:
    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    # pos_hint: {'center_y': 0.5}
    size_hint_x: None
    size: self.texture_size
    # canvas.before:
    #     Color:
    #         rgba: 0, 1, 0, 1
    #     Rectangle:
    #         pos: self.pos
    #         size: self.size

###########################################################

# Widget tree

<MainWidget@BoxLayout>:
    orientation: 'vertical'
    spacing: '0dp'
    padding: '20dp'
    
    # Login
    HorizontalBoxLayout:
        MainLabel:
            text: 'Login'
        HorizontalBoxLayout:
            spacing: dp(32)
            SubLabel:
                text: 'Username'
            CustomText:
                id: username
            SubLabel:
                text: 'Password'
            CustomText:
                id: password
    
    HorizontalBoxLayout:
        MainLabel:
            text: 'Usecase'
        HorizontalBoxLayout:
            Spinner:
                text: '1.3'
                values: '1.3', '3.5', '3.6'
    
    HorizontalBoxLayout:
        MainLabel:
            text: 'Probes'
        HorizontalBoxLayout:
            spacing: dp(32)
            SubLabel:
                text: 'Source'
            CustomText:
            SubLabel:
                text: 'Destination'
            CustomText:
    
    HorizontalBoxLayout:
        MainLabel:
            id: lbl1
            text: 'Test Campaign ID'
        HorizontalBoxLayout:
            CustomText:
            BorderedBox:
                SubLabel:
                    text: 'Filter'
                CustomText:
                    id: campaign_filter
                SmallButton:
                    text: 'Get available test campaigns'
                    on_press: app.on_get_campaigns(campaign_filter.text)

    HorizontalBoxLayout:
        SmallButton:
            text: 'Auth'
            on_press: app.on_auth(username, password)
        SmallButton:
            text: 'Excute'
        SmallButton:
            text: 'Stop'
        SmallButton:
            text: 'Status'
    
    ScrollView:
        id: scrlv
        TextInput:
            id: log
            background_color: (0, 0, 0, 1)
            foreground_color: (0, 1, 0, 1)
            multiline: True           
            # readonly: True
            size_hint_y: None
            height: self.minimum_height
